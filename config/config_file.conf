
events {
	worker_connections		1024;
}


http {

	include                ./config/mime.types;
	default_type			application/octet-stream;
	client_max_body_size	10M;
	error_page		404		/404.html;
	error_page		502		/502.html;
	error_page		503		/503.html;

	server {
		listen			3000;
		listen			8080;
		host			0.0.0.0;#
		server_names	localhost sdfsdf fdfdf  ff sfsdfsfsdf;
		# root			public/index.htmvfl;
		# return	123  file;

		error_page		301		301.html;
		location / {
			# root   html;
			index  index.html index.htm index.php;
			# return 554 fg;
			autoindex on;
			allow      POST ;
			upload      off;
			upload_stor /some/path;
			error_page      402   /402.html;
	   }
	   
	}
	error_page		500	/503.html;

	server {
		listen			3000;
		host			0.0.0.0; # SHOULD BE 127.0.0.1 OR 0.0.0.1 OR locslhost only
		root			path;
		server_names	somename alias   another.alias;
		error_page		500	/500.html;
		error_page		501	/500.html;
		error_page		502	/500.html;
		error_page		503	/500.html;

		location ~/cgi {
			# root		html;
			index  		indexr.html index.htm;
			return 		554 https://bruinsslot.jp/post/simple-http-webserver-in-c/;
			autoindex 	on;
			allow		GET ;
			# cgi_accept	 		.py
			# cgi_path			/Users/ahmaidi/Desktop/webserv_fix_rm/website/script/cgi-bin/php-cgi
			upload      off;
			upload_stor	/some/path;
			error_page	201   /201.html;
			
		}

	   	location /path {
			root   public;
			index  infdex.html index.htm;
			# return 200 ~/cgi;
			autoindex on;
			allow	ALL ;
			upload    off;
			upload_stor /some/path;
			error_page      501   /501.html;
			error_page      500   /500.html;
			
		}


	   	location /files {
			root   path;
			index  index.html index.htm;
			# return 554 fg;
			autoindex off;
			allow      GET POST DELETE ;
			upload      off;
			upload_stor /some/path;
			error_page      400   /400.html;
	   }
		location / {
			root   public///;
			index  index.html index.htm;
			return 554 fg;
			autoindex on;
			allow      GET ;
			upload      off;
			upload_stor /some/path;
			error_page      507   /507.html;
	   }

	# server {
	# 	listen 555;
	# 	host 0.0.0.0;
	# 	server_names hlkdlk; // server inside server ko :()
	# 	root lskdf;
	# }
	}
}#/html
